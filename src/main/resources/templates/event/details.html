<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <!--  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">-->
  <!--  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>-->
  <!--  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>-->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico"/>

  <title>Navbar Template for Bootstrap</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="../static/css/bootstrap.css" rel="stylesheet" th:href="@{/css/bootstrap.css}"/>
  <nav th:replace="/fragments/nav :: nav"></nav>

</head>
<body>
<div class="container" style="
    padding-top: 65px;
">
  <!--  <div class="jumbotron" xmlns:th="http://www.w3.org/1999/xhtml">-->
  <!--    <h2 class="display-4" th:text= "${event.name}" ></h2>-->
  <!--    <h3 class="display-4" th:text="${event.description}"></h3>-->
  <!--  </div>-->

  <div class="jumbotron" xmlns:th="http://www.w3.org/1999/xhtml">
    <a class="btn btn-success" href="#" th:href="@{/events/addAdhocTaskToEventForm?id=} + ${event.id}">Add adhoc task </a>

    <h3>Lista tasków AD hoc <span class="badge badge-secondary">ADHOC</span></h3>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Date</th>
        <th scope="col">Name</th>
        <th scope="col">Is finished?</th>
        <th scope="col">Assigned to</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="taskStatus, obj : ${tasks.get('adhoc')}">
        <td th:text="${taskStatus.id}">Id</td>
        <td th:text="${#temporals.format(taskStatus.date, 'yyyy-MM-dd HH:mm')}"></td>
        <td th:text="${taskStatus.name}">Name</td>
        <td>
          <div th:switch="${taskStatus.status}">
            <p th:case ="false">No</p>
            <p th:case ="true">Yes</p>
            <p th:case="*">?</p>
          </div>
        </td>
        <td th:text="${taskStatus.person.name}">Assigned to</td>
        <td>
          <a class="btn btn-warning"  href="#" th:href="@{/events/editTask?taskId=} + ${taskStatus.id}"
          ><i class="fa fa-cog" aria-hidden="true"></i></a>
        </td>
        <td>
          <a class="btn btn-danger" href="#" th:href="@{/events/deleteTaskFromEvent?taskId=} + ${taskStatus.id} + '&eventId' + '=' + ${event.id}"
          ><i class="fa fa-trash-o" aria-hidden="false"></i></a>
        </td>
      </tr>
      </tbody>
    </table>

  </div>
  <div class="jumbotron bg-dark text-white" xmlns:th="http://www.w3.org/1999/xhtml">
    <h3>Listy preferowane <span class="badge badge-secondary">Prefered</span></h3>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Date</th>
        <th scope="col">Name</th>
        <th scope="col">Is finished?</th>
        <th scope="col">Assigned to</th>
      </tr>
      </thead>
      <li th:each="key: ${tasks.keySet()}">
        <span th:if="${key != 'adhoc'}">
    <h4 th:text="${key}"></h4>
          <tr th:each="taskStatus, obj : ${tasks.get(key)}">
        <td th:text="${taskStatus.id}">Id</td>
        <td th:text="${#temporals.format(taskStatus.date, 'yyyy-MM-dd HH:mm')}"></td>
        <td th:text="${taskStatus.name}">Name</td>
        <td>
          <div th:switch="${taskStatus.status}">
            <p th:case ="false">No</p>
            <p th:case ="true">Yes</p>
            <p th:case="*">?</p>
          </div>
        </td>
        <td th:text="${taskStatus.person.name}">Assigned to</td>
        <td>
          <a class="btn btn-warning"  href="#" th:href="@{/events/editTask?taskId=} + ${taskStatus.id}"
          ><i class="fa fa-cog" aria-hidden="true"></i></a>
        </td>
        <td>
          <a class="btn btn-danger" href="#" th:href="@{/events/deleteTaskFromEvent?taskId=} + ${taskStatus.id} + '&eventId' + '=' + ${event.id}"
          ><i class="fa fa-trash-o" aria-hidden="false"></i></a>
        </td>
      </tr>
        </span>
      </li>
    </table>
    </li>
    </tbody>
    </table>
  </div>

  <div class="jumbotron bg-dark text-white" xmlns:th="http://www.w3.org/1999/xhtml">
    <h3>Płatności <span class="badge badge-secondary">Billings</span></h3>

    <table class="table">
      <thead>
      <tr>
        <th scope="col">Company name</th>
        <th scope="col">Expense</th>
        <th scope="col">is Paided?</th>
        <th scope="col">Person assign to</th>
      </tr>
      </thead>
      <tbody>
      <tr th:if="${billings.empty}">
        <td colspan="2"> No Billings Available </td>
      </tr>
      <tr th:each="billing : ${billings}">
        <td><span th:text="${billing.companyName}">Company name </span></td>
        <td><span th:text="${billing.money}">Expense </span></td>
        <td><span th:text="${billing.paided}">is Paided? </span></td>
        <td><span th:text="${billing.personAssigned}">Person assign to</span></td>
      </tr>
      </tbody>
    </table>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Paided</th>
        <th scope="col">Not paided</th>
        <th scope="col">Coast of all paided</th>
        <th scope="col">Coast of all not paided</th>
      </tr>
      </thead>
      <tbody>
        <td><span th:text="${billingsSummary.paided}">Paided </span></td>
        <td><span th:text="${billingsSummary.notPaided}">Not paid </span></td>
        <td><span th:text="${billingsSummary.coastOfAllPaided}">Coast of all paided</span></td>
        <td><span th:text="${billingsSummary.coastOfAllNotPaided}">Coast of all not paided</span></td>
        <td>
          <a class="btn btn-danger" href="#" th:href="@{/events/billingsRaport?id=}+ ${event.id}"
          >Generate PDF</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div> <!-- /container -->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="../static/js/bootstrap.js" th:href="@{/js/bootstrap.js}"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
</body>
</html>